(function(e){function t(t){for(var n,o,s=t[0],l=t[1],c=t[2],u=0,m=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,s=1;s<a.length;s++){var l=a[s];0!==i[l]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},i={index:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/desafio-medprev/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("85ec"),i=a.n(n);i.a},"0485":function(e,t,a){"use strict";var n=a("9a01"),i=a.n(n);i.a},"082a":function(e,t,a){},"23bd":function(e,t,a){"use strict";var n=a("082a"),i=a.n(n);i.a},"56d7":function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"default",(function(){return ke}));a("e623"),a("e379"),a("5dc8"),a("37e1");var i=a("2b0e"),r=(a("4989"),a("ab8b"),a("3a60")),o=a.n(r),s=a("1dce"),l=a.n(s),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Navbar"),a("router-view"),a("Footer")],1)},d=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{attrs:{id:"header"}},[n("nav",{staticClass:"navbar navbar-expand-md navbar-dark",staticStyle:{"background-color":"#056E34"}},[n("router-link",{staticClass:"nav-brand",attrs:{to:"/desafio-medprev/"}},[n("img",{attrs:{src:a("b51a"),alt:"Logo"}})]),e._m(0),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"collapsibleNavbar"}},[n("ul",{staticClass:"navbar-nav"},e._l(e.items,(function(t){return n("li",{key:t.id,staticClass:"nav-item",class:[e.currentPage.includes(t.path)?"active":""]},[n("router-link",{staticClass:"nav-link",attrs:{to:"/desafio-medprev/"+t.path}},[n("span",{class:t.icon}),e._v(" "+e._s(t.text)+" ")])],1)})),0)])],1)])},m=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{"data-toggle":"collapse","data-target":"#collapsibleNavbar"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],v={data:function(){return{activeClass:"active",items:[{id:1,path:"clientes",icon:"fa fa-users",text:"CLIENTES"}]}},computed:{currentPage:function(){return this.$route.path}}},p=v,f=(a("0485"),a("2877")),b=Object(f["a"])(p,u,m,!1,null,"1ba93813",null),_=b.exports,g=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},h=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"page-footer font-small pt-4"},[a("div",{staticClass:"footer-copyright text-center py-3"},[e._v("© 2020 "),a("a",{attrs:{href:"https://medprev.online/",target:"_blank"}},[e._v(" MEDPREV")])])])}],C={},$=Object(f["a"])(C,g,h,!1,null,null,null),x=$.exports,y={name:"App",components:{Navbar:_,Footer:x}},w=y,k=(a("034f"),Object(f["a"])(w,c,d,!1,null,null,null)),j=k.exports,N=a("8c4f"),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"jumbotron jumbotron-fluid text-center m-3"},[e._m(0),a("router-link",{staticClass:"btn btn-success btn-lg",attrs:{to:"/desafio-medprev/clientes"}},[a("span",{staticClass:"fa fa-users"}),e._v(" Ver clientes ")])],1)},O=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",{staticClass:"display-2"},[e._v("Bem vindo!")]),a("h5",[e._v("Gerencie seus clientes de forma fácil.")])])}],E=(a("f86e"),{}),S=Object(f["a"])(E,P,O,!1,null,"03ef07b4",null),q=S.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"box"},[a("div",{staticClass:"box-header with-border"},[a("h3",{staticClass:"box-title"},[e._v(" Clientes "),a("router-link",{staticClass:"btn btn-success btn-sm",attrs:{to:"/desafio-medprev/clientes/cadastro"}},[a("span",{staticClass:"fa fa-plus"}),e._v(" Novo ")])],1)]),0==e.clientes.length?a("div",{staticClass:"card m-2"},[a("div",{staticClass:"card-body text-center"},[e._v(" "+e._s(e.mensagem)+" ")])]):e._e(),e.clientes.length>0?a("div",{staticClass:"box-body table-responsive"},[a("table",{staticClass:"table table-hover table-sm"},[e._m(0),a("tbody",e._l(e.clientes,(function(t){return a("tr",{key:t._id},[a("td",[e._v(e._s(t.tipo))]),a("td",[e._v(e._s(t.nome))]),a("td",[e._v(e._s(t.email))]),a("td",[e._v(e._s(t.telefone))]),a("td",[e._v(e._s(t.celular))]),a("td",[a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return e.editarCliente(t._id)}}},[a("span",{staticClass:"fa fa-edit"})]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return e.deletarCliente(t)}}},[a("span",{staticClass:"fa fa-trash"})]),a("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#modal_cliente"},on:{click:function(a){return e.verCliente(t)}}},[a("span",{staticClass:"fa fa-eye"})])])])])})),0)])]):e._e(),a("div",{staticClass:"box-footer clear-fix"},[e.clientes.length>0?a("ul",{staticClass:"pagination justify-content-end"},[a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",class:{disabled:e.anteriorDisabled},attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.paginaAnterior()}}},[e._v("Anterior")])]),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",class:{disabled:e.proximaDisabled},attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.proximaPagina()}}},[e._v("Próximo")])])]):e._e()])])])]),a("div",{ref:"modal",staticClass:"modal fade bd-example-modal-lg",attrs:{id:"modal_cliente",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-backdrop":"static","data-keyword":"false"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("label",[e._v("Tipo: ")]),e._v(" "+e._s(e.cliente?e.cliente.tipo:"")+" ")])]),e.cliente&&"FISICA"===e.cliente.tipo?a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("label",[e._v("CPF: ")]),e._v(" "+e._s(e.cliente?e.cliente.cpf:"")+" ")]),a("div",{staticClass:"col-3"},[a("label",[e._v("Sexo: ")]),e._v(" "+e._s(e.cliente?e.cliente.sexo:"")+" ")]),a("div",{staticClass:"col-5"},[a("label",[e._v("Data de nascimento: ")]),e._v(" "+e._s(e.cliente?e.cliente.nascimento:"")+" ")])]):e._e(),e.cliente&&"JURIDICA"===e.cliente.tipo?a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("label",[e._v("CNPJ: ")]),e._v(" "+e._s(e.cliente?e.cliente.cnpj:"")+" ")]),a("div",{staticClass:"col"},[a("label",[e._v("Razão social: ")]),e._v(" "+e._s(e.cliente?e.cliente.razao_social:"")+" ")])]):e._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("label",[e._v("Nome: ")]),e._v(" "+e._s(e.cliente?e.cliente.nome:"")+" ")]),a("div",{staticClass:"col"},[a("label",[e._v("E-mail: ")]),e._v(" "+e._s(e.cliente?e.cliente.email:"")+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("label",[e._v("Telefone: ")]),e._v(" "+e._s(e.cliente?e.cliente.telefone:"")+" ")]),a("div",{staticClass:"col"},[a("label",[e._v("Celular: ")]),e._v(" "+e._s(e.cliente?e.cliente.celular:"")+" ")])]),e.cliente&&0==e.cliente.enderecos.length?a("div",{staticClass:"card"},[a("div",{staticClass:"card-body text-center"},[e._v(" Nenhuma endereço adicionado. ")])]):e._e(),e.cliente&&e.cliente.enderecos.length>0?a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover table-sm"},[e._m(2),a("tbody",e._l(e.cliente.enderecos,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.rua))]),a("td",[e._v(e._s(t.numero))]),a("td",[e._v(e._s(t.complemento))]),a("td",[e._v(e._s(t.bairro))]),a("td",[e._v(e._s(t.cidade))]),a("td",[e._v(e._s(t.estado))]),a("td",[e._v(e._s(t.cep))])])})),0)])]):e._e()])])])])])},F=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Tipo")]),a("th",[e._v("Nome")]),a("th",[e._v("E-mail")]),a("th",[e._v("Telefone")]),a("th",[e._v("Celular")]),a("th",[e._v("Ações")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v("Detalhes")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Endereço")]),a("th",[e._v("Número")]),a("th",[e._v("Complemento")]),a("th",[e._v("Bairro")]),a("th",[e._v("Cidade")]),a("th",[e._v("Estado")]),a("th",[e._v("CEP")])])])}],A=(a("99af"),a("caad"),a("ac1f"),a("2532"),a("1276"),a("3835")),I=a("5530"),R=(a("96cf"),a("1da1")),z=a("d4ec"),L=a("ade3"),T=a("bc3a"),U=a.n(T),M="https://jsonbox.io",J="".concat(M,"/box_da97eb998ae0f58a2f7e"),B=U.a.create({baseURL:J}),G=function e(){Object(z["a"])(this,e),Object(L["a"])(this,"getClientes",(function(e){return B.get("/?limit=5&skip=".concat(e))})),Object(L["a"])(this,"getCliente",(function(e){return B.get("/".concat(e))})),Object(L["a"])(this,"salvarCliente",(function(e){return B.post("/",e)})),Object(L["a"])(this,"atualizarCliente",(function(e,t){return B.put("/".concat(e),t)})),Object(L["a"])(this,"deletarCliente",(function(e){return B.delete("/".concat(e))}))},H=new G,V={data:function(){return{mensagem:"",skip:0,clientes:[],anteriorDisabled:!0,proximaDisabled:!1,cliente:null}},created:function(){this.getClientes()},watch:{skip:function(){this.anteriorDisabled=0===this.skip}},methods:{getClientes:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.clientes=[],e.mensagem="Buscando clientes...",t.next=5,H.getClientes(e.skip);case 5:a=t.sent,e.clientes=a.data,0===e.clientes.length&&(0===e.skip?e.mensagem="Nenhum cliente encontrado.":e.paginaAnterior()),e.proximaDisabled=e.clientes.length<5,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),alert("Ocorreu um erro ao consultar a API"),e.mensagem="Nenhum cliente encontrado.";case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},proximaPagina:function(){this.clientes.length>=5&&(this.skip+=5,this.getClientes())},paginaAnterior:function(){this.skip>=5?(this.skip-=5,this.getClientes()):this.anteriorDisabled=!0},deletarCliente:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!window.confirm("Desejar deletar o cliente ".concat(e.nome,"?"))){a.next=5;break}return a.next=3,H.deletarCliente(e._id);case 3:n=a.sent,200===n.status&&(t.getClientes(),alert("Cliente removido com sucesso!"));case 5:case"end":return a.stop()}}),a)})))()},editarCliente:function(e){this.$router.push("/desafio-medprev/clientes/editar/".concat(e))},verCliente:function(e){if(this.cliente=Object(I["a"])({},e),this.cliente.nascimento.includes("-")){var t=this.cliente.nascimento.split("-"),a=Object(A["a"])(t,3),n=a[0],i=a[1],r=a[2];this.cliente.nascimento="".concat(r,"/").concat(i,"/").concat(n)}}}},K=V,Q=(a("23bd"),Object(f["a"])(K,D,F,!1,null,"48b3b7df",null)),W=Q.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Formulario",{attrs:{titulo:"Cadastrar cliente",cliente:e.cliente,mensagem:e.mensagem,formDisabled:e.formDisabled},on:{cliente:function(t){return e.addCliente(t)}}})},Y=[],Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"box"},[a("div",{staticClass:"box-header with-border"},[a("h3",{staticClass:"box-title"},[e._v(" "+e._s(e.titulo)+" ")])]),a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("fieldset",{attrs:{disabled:e.formDisabled}},[a("div",{staticClass:"box-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-12"},[e._m(0),a("div",{staticClass:"form-check-inline"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cliente.tipo,expression:"cliente.tipo"}],staticClass:"form-check-input",attrs:{type:"radio",name:"tipo",id:"fisica",value:"FISICA",checked:""},domProps:{checked:e._q(e.cliente.tipo,"FISICA")},on:{click:function(t){return e.alterarTipo("FISICA")},change:function(t){return e.$set(e.cliente,"tipo","FISICA")}}}),e._v(" FISICA ")])]),a("div",{staticClass:"form-check-inline"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cliente.tipo,expression:"cliente.tipo"}],staticClass:"form-check-input",attrs:{type:"radio",name:"tipo",id:"juridica",value:"JURIDICA"},domProps:{checked:e._q(e.cliente.tipo,"JURIDICA")},on:{click:function(t){return e.alterarTipo("JURIDICA")},change:function(t){return e.$set(e.cliente,"tipo","JURIDICA")}}}),e._v(" JURIDICA ")])])]),e.ehFisica?e._e():a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"input-cnpj"}},[e._v("CNPJ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cliente.cnpj,expression:"cliente.cnpj"},{name:"model",rawName:"v-model.trim",value:e.$v.cliente.cnpj.$model,expression:"$v.cliente.cnpj.$model",modifiers:{trim:!0}},{name:"mask",rawName:"v-mask",value:"##.###.###/####-##",expression:"'##.###.###/####-##'"}],staticClass:"form-control",attrs:{type:"text",name:"input-cnpj",id:"input-cnpj",required:""},domProps:{value:e.cliente.cnpj,value:e.$v.cliente.cnpj.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.cliente.cnpj,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.cliente,"cnpj",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.cliente.cnpj.required?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("CNPJ é obrigatório!")])]),e.$v.cliente.cnpj.minLength?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("CNPJ incompleto!")])])]),e.ehFisica?e._e():a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"input-rs"}},[e._v("Razão social")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cliente.razao_social,expression:"cliente.razao_social"},{name:"model",rawName:"v-model.trim",value:e.$v.cliente.razao_social.$model,expression:"$v.cliente.razao_social.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"input-rs",id:"input-rs",required:""},domProps:{value:e.cliente.razao_social,value:e.$v.cliente.razao_social.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.cliente.razao_social,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.cliente,"razao_social",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.cliente.razao_social.required?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("Razão social é obrigatória!")])])]),e.ehFisica?a("div",{staticClass:"form-group col-4"},[a("label",{attrs:{for:"input-cpf"}},[e._v("CPF")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cliente.cpf,expression:"cliente.cpf"},{name:"model",rawName:"v-model.trim",value:e.$v.cliente.cpf.$model,expression:"$v.cliente.cpf.$model",modifiers:{trim:!0}},{name:"mask",rawName:"v-mask",value:"###.###.###-##",expression:"'###.###.###-##'"}],staticClass:"form-control",attrs:{type:"text",name:"input-cpf",id:"input-cpf",required:""},domProps:{value:e.cliente.cpf,value:e.$v.cliente.cpf.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.cliente.cpf,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.cliente,"cpf",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.cliente.cpf.required?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("CPF é obrigatório!")])]),e.$v.cliente.cpf.minLength?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("CPF incompleto!")])])]):e._e(),e.ehFisica?a("div",{staticClass:"form-group col-4"},[a("label",{attrs:{for:"select-sexo"}},[e._v("Sexo")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.cliente.sexo,expression:"cliente.sexo"}],staticClass:"form-control",attrs:{name:"select-sexo",id:"select-sexo",required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.cliente,"sexo",t.target.multiple?a:a[0])}}},[a("option",[e._v("Feminino")]),a("option",[e._v("Masculino")]),a("option",[e._v("Prefiro não informar")])])]):e._e(),e.ehFisica?a("div",{staticClass:"form-group col-4"},[a("label",{attrs:{for:"input-nascimento"}},[e._v("Data de nascimento")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cliente.nascimento,expression:"cliente.nascimento"},{name:"model",rawName:"v-model.trim",value:e.$v.cliente.nascimento.$model,expression:"$v.cliente.nascimento.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"date",name:"input-nascimento",id:"input-nascimento",required:""},domProps:{value:e.cliente.nascimento,value:e.$v.cliente.nascimento.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.cliente.nascimento,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.cliente,"nascimento",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.cliente.nascimento.required?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("Data de Nascimento é obrigatória!")])])]):e._e(),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"input-nome"}},[e._v("Nome")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cliente.nome,expression:"cliente.nome"},{name:"model",rawName:"v-model.trim",value:e.$v.cliente.nome.$model,expression:"$v.cliente.nome.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"input-nome",id:"input-nome",required:""},domProps:{value:e.cliente.nome,value:e.$v.cliente.nome.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.cliente.nome,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.cliente,"nome",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.cliente.nome.required?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("Nome é obrigatório!")])])]),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"input-email"}},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cliente.email,expression:"cliente.email"}],staticClass:"form-control",attrs:{type:"email",name:"input-email",id:"input-email"},domProps:{value:e.cliente.email},on:{input:function(t){t.target.composing||e.$set(e.cliente,"email",t.target.value)}}})]),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"input-telefone"}},[e._v("Telefone")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cliente.telefone,expression:"cliente.telefone"},{name:"model",rawName:"v-model.trim",value:e.$v.cliente.telefone.$model,expression:"$v.cliente.telefone.$model",modifiers:{trim:!0}},{name:"mask",rawName:"v-mask",value:"(##) ####-####",expression:"'(##) ####-####'"}],staticClass:"form-control",attrs:{type:"text",name:"input-telefone",id:"input-telefone"},domProps:{value:e.cliente.telefone,value:e.$v.cliente.telefone.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.cliente.telefone,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.cliente,"telefone",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.cliente.telefone.minLength?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("Telefone incompleto!")])])]),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"input-celular"}},[e._v("Celular")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cliente.celular,expression:"cliente.celular"},{name:"model",rawName:"v-model.trim",value:e.$v.cliente.celular.$model,expression:"$v.cliente.celular.$model",modifiers:{trim:!0}},{name:"mask",rawName:"v-mask",value:"(##) #####-####",expression:"'(##) #####-####'"}],staticClass:"form-control",attrs:{type:"text",name:"input-celular",id:"input-celular"},domProps:{value:e.cliente.celular,value:e.$v.cliente.celular.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.cliente.celular,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.cliente,"celular",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.cliente.celular.minLength?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("Celular incompleto!")])])]),a("div",{staticClass:"form-group col-12"},[a("button",{staticClass:"btn btn-primary btn-sm mb-2",attrs:{type:"button","data-toggle":"modal","data-target":"#form_endereco"}},[e._v(" Adicionar endereço ")]),0==e.cliente.enderecos.length?a("div",{staticClass:"card"},[a("div",{staticClass:"card-body text-center"},[e._v(" Nenhuma endereço adicionado. ")])]):e._e(),e.cliente.enderecos.length>0?a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover table-sm"},[e._m(1),a("tbody",e._l(e.cliente.enderecos,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.rua))]),a("td",[e._v(e._s(t.numero))]),a("td",[e._v(e._s(t.complemento))]),a("td",[e._v(e._s(t.bairro))]),a("td",[e._v(e._s(t.cidade))]),a("td",[e._v(e._s(t.estado))]),a("td",[e._v(e._s(t.cep))]),a("td",[a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#form_endereco"},on:{click:function(a){return e.editarEndereco(t)}}},[a("span",{staticClass:"fa fa-edit"})]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return e.removerEndereco(t)}}},[a("span",{staticClass:"fa fa-trash"})])])])])})),0)])]):e._e()])])]),a("div",{staticClass:"box-footer"},[a("button",{staticClass:"btn btn-success m-1",attrs:{type:"submit"}},[e._v("Salvar")]),a("router-link",{staticClass:"btn btn-danger m1",attrs:{to:"/desafio-medprev/clientes"}},[e._v(" Cancelar ")]),e.mensagem?a("span",{staticClass:"ml-2"},[e._v(e._s(e.mensagem))]):e._e()],1)])])])])]),a("div",{ref:"modal",staticClass:"modal fade bd-example-modal-lg",attrs:{id:"form_endereco",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-backdrop":"static","data-keyword":"false"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(2),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-8"},[a("label",{attrs:{for:"input-endereco"}},[e._v("Rua")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.rua,expression:"endereco.rua"},{name:"model",rawName:"v-model.trim",value:e.$v.endereco.rua.$model,expression:"$v.endereco.rua.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"input-endereco",id:"input-endereco",required:""},domProps:{value:e.endereco.rua,value:e.$v.endereco.rua.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.endereco.rua,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.endereco,"rua",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.endereco.rua.required?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("Rua é obrigatória!")])])]),a("div",{staticClass:"form-group col-4"},[a("label",{attrs:{for:"input-numero"}},[e._v("Número")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.numero,expression:"endereco.numero"},{name:"model",rawName:"v-model.trim",value:e.$v.endereco.numero.$model,expression:"$v.endereco.numero.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"number",min:"1",name:"input-numero",id:"input-numero",required:""},domProps:{value:e.endereco.numero,value:e.$v.endereco.numero.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.endereco.numero,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.endereco,"numero",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.endereco.numero.required?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("Número é obrigatório!")])])]),a("div",{staticClass:"form-group col-8"},[a("label",{attrs:{for:"input-complemento"}},[e._v("Complemento")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.complemento,expression:"endereco.complemento"}],staticClass:"form-control",attrs:{type:"text",name:"input-complemento",id:"input-complemento"},domProps:{value:e.endereco.complemento},on:{input:function(t){t.target.composing||e.$set(e.endereco,"complemento",t.target.value)}}})]),a("div",{staticClass:"form-group col-4"},[a("label",{attrs:{for:"input-bairro"}},[e._v("Bairro")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.bairro,expression:"endereco.bairro"}],staticClass:"form-control",attrs:{type:"text",name:"input-bairro",id:"input-bairro"},domProps:{value:e.endereco.bairro},on:{input:function(t){t.target.composing||e.$set(e.endereco,"bairro",t.target.value)}}})]),a("div",{staticClass:"form-group col-4"},[a("label",{attrs:{for:"input-cidade"}},[e._v("Cidade")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.cidade,expression:"endereco.cidade"},{name:"model",rawName:"v-model.trim",value:e.$v.endereco.cidade.$model,expression:"$v.endereco.cidade.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"input-cidade",id:"input-cidade",required:""},domProps:{value:e.endereco.cidade,value:e.$v.endereco.cidade.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.endereco.cidade,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.endereco,"cidade",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.endereco.cidade.required?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("Cidade é obrigatória!")])])]),a("div",{staticClass:"form-group col-4"},[a("label",{attrs:{for:"input-estado"}},[e._v("Estado")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.endereco.estado,expression:"endereco.estado"},{name:"model",rawName:"v-model.trim",value:e.$v.endereco.estado.$model,expression:"$v.endereco.estado.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"input-estado"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.$v.endereco.estado,"$model",t.target.multiple?a:a[0])},function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.endereco,"estado",t.target.multiple?a:a[0])}]}},e._l(e.Helpers.default.estados,(function(t){return a("option",{key:t},[e._v(" "+e._s(t)+" ")])})),0),e.$v.endereco.estado.required?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("Estado é obrigatório!")])])]),a("div",{staticClass:"form-group col-4"},[a("label",{attrs:{for:"input-cep"}},[e._v("CEP")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.cep,expression:"endereco.cep"},{name:"model",rawName:"v-model.trim",value:e.$v.endereco.cep.$model,expression:"$v.endereco.cep.$model",modifiers:{trim:!0}},{name:"mask",rawName:"v-mask",value:"#####-###",expression:"'#####-###'"}],staticClass:"form-control",attrs:{type:"text",name:"input-cep",id:"input-cep"},domProps:{value:e.endereco.cep,value:e.$v.endereco.cep.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.endereco.cep,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.endereco,"cep",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.endereco.cep.minLength?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("CEP incompleto!")])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-success btn-md",attrs:{type:"button"},on:{click:function(t){return e.addEndereco()}}},[e._v("Salvar")])])])])])])},ee=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-check-inline"},[a("label",{staticClass:"form-check-label"},[e._v(" TIPO: ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Endereço")]),a("th",[e._v("Número")]),a("th",[e._v("Complemento")]),a("th",[e._v("Bairro")]),a("th",[e._v("Cidade")]),a("th",[e._v("Estado")]),a("th",[e._v("CEP")]),a("th",[e._v("Ações")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v("Endereço")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],te=(a("c975"),a("a434"),a("1157")),ae=a.n(te),ne=a("b5ae"),ie={props:["titulo","cliente","mensagem","formDisabled"],data:function(){return{ehFisica:!1,endereco:{id:0,rua:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"Acre",cep:""},indice:null}},validations:{cliente:{cpf:{required:ne["required"],minLength:Object(ne["minLength"])(14)},nascimento:{required:ne["required"]},cnpj:{required:ne["required"],minLength:Object(ne["minLength"])(18)},razao_social:{required:ne["required"]},nome:{required:ne["required"]},celular:{minLength:Object(ne["minLength"])(15)},telefone:{minLength:Object(ne["minLength"])(14)}},endereco:{rua:{required:ne["required"]},numero:{required:ne["required"]},cidade:{required:ne["required"]},estado:{required:ne["required"]},cep:{minLength:Object(ne["minLength"])(9)}}},watch:{cliente:function(){this.mudarFormularioTipoPessoa()}},created:function(){this.mudarFormularioTipoPessoa(),this.endereco.id=this.cliente.enderecos.length},methods:{alterarTipo:function(e){this.cliente.tipo=e,this.mudarFormularioTipoPessoa()},mudarFormularioTipoPessoa:function(){this.ehFisica="FISICA"===this.cliente.tipo},resetModal:function(){this.endereco={id:0,rua:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",cep:""},ae()(this.$refs.modal).modal("hide")},addEndereco:function(){this.$v.endereco.$invalid?alert("Preencha todos os campos obrigatórios!"):(0===this.endereco.id?(this.endereco.id=this.cliente.enderecos.length+1,this.cliente.enderecos.push(this.endereco)):this.cliente.enderecos[this.indice]=this.endereco,this.resetModal())},editarEndereco:function(e){this.indice=this.cliente.enderecos.indexOf(e),this.endereco=Object(I["a"])({},e)},removerEndereco:function(e){var t=this.cliente.enderecos.indexOf(e);this.cliente.enderecos.splice(t,1)},submit:function(){var e=!1;if(e=this.ehFisica?!this.$v.cliente.cpf.$invalid&&!this.$v.cliente.nascimento.$invalid&&!this.$v.cliente.telefone.$invalid&&!this.$v.cliente.celular.$invalid:!this.$v.cliente.cnpj.$invalid&&!this.$v.cliente.razao_social.$invalid&&!this.$v.cliente.telefone.$invalid&&!this.$v.cliente.celular.$invalid,e)if(this.cliente.enderecos.length>0){if(this.cliente.nascimento.includes("/")){var t=this.cliente.nascimento.split("/"),a=Object(A["a"])(t,3),n=a[0],i=a[1],r=a[2];this.cliente.nascimento="".concat(r,"-").concat(i,"-").concat(n)}this.$emit("cliente",this.cliente)}else alert("É preciso cadastrar pelo menos um endereço!");else alert("Corrija os campos inválidos!")}}},re=ie,oe=Object(f["a"])(re,Z,ee,!1,null,null,null),se=oe.exports,le={components:{Formulario:se},data:function(){return{cliente:{tipo:"FISICA",cpf:"",sexo:"Feminino",nascimento:"",cnpj:"",razao_social:"",nome:"",email:"",telefone:"",celular:"",enderecos:[]},mensagem:"",formDisabled:!1}},methods:{addCliente:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.formDisabled=!0,t.mensagem="Salvando as informações...",a.next=4,H.salvarCliente(e);case 4:n=a.sent,t.formDisabled=!1,t.mensagem="",200===n.status?(alert("Cliente salvo com sucesso!"),t.$router.push("/desafio-medprev/clientes")):alert("Ocorreu um erro! Os dados não foram salvos");case 8:case"end":return a.stop()}}),a)})))()}}},ce=le,de=Object(f["a"])(ce,X,Y,!1,null,null,null),ue=de.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.cliente?e._e():a("div",{staticClass:"card m-2"},[a("div",{staticClass:"card-body text-center"},[e._v(" Buscando informações do cliente... ")])]),e.cliente?a("Formulario",{attrs:{titulo:"Editar cliente",cliente:e.cliente,mensagem:e.mensagem,formDisabled:e.formDisabled},on:{cliente:function(t){return e.atualizarCliente(t)}}}):e._e()],1)},ve=[],pe={components:{Formulario:se},data:function(){return{cliente:null,mensagem:"",formDisabled:!1}},created:function(){this.getCliente()},methods:{getCliente:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(I["a"])({},e.$route.params),n=a.id,t.next=3,H.getCliente(n);case 3:i=t.sent,200===i.status&&(e.cliente=i.data);case 5:case"end":return t.stop()}}),t)})))()},atualizarCliente:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function a(){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.formDisabled=!0,t.mensagem="Atualizando as informações...",n=Object(I["a"])({},t.$route.params),i=n.id,a.next=5,H.atualizarCliente(i,e);case 5:r=a.sent,t.formDisabled=!1,t.mensagem="",200===r.status?alert("Cliente atualizado com sucesso!"):alert("Ocorreu um erro! Os dados não foram atualizados!");case 9:case"end":return a.stop()}}),a)})))()}}},fe=pe,be=Object(f["a"])(fe,me,ve,!1,null,null,null),_e=be.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"error-template"},[a("h1",[e._v("Oops!")]),a("h2",[e._v("Página não encontrada!")]),a("div",{staticClass:"error-details"},[e._v(" Desculpe, ocorreu um erro: esta página não foi encontrada! ")]),a("div",{staticClass:"error-actions"},[a("router-link",{staticClass:"btn btn-success btn-lg",attrs:{to:"/desafio-medprev"}},[a("span",{staticClass:"fa fa-home"}),e._v(" Ir para a página inicial ")]),e._m(0)],1)])])])])},he=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"btn btn-primary btn-lg",attrs:{href:"https://medprev.online/fale-conosco/",target:"_blank"}},[a("span",{staticClass:"fa fa-envelope"}),e._v(" Entrar em contato ")])}],Ce=(a("b1ff"),{}),$e=Object(f["a"])(Ce,ge,he,!1,null,"1ec8be58",null),xe=$e.exports;i["a"].use(N["a"]);var ye=new N["a"]({mode:"history",routes:[{path:"/desafio-medprev",name:"Home",component:q},{path:"/desafio-medprev/clientes",name:"ClientesLista",component:W},{path:"/desafio-medprev/clientes/cadastro",name:"ClientesCadastro",component:ue},{path:"/desafio-medprev/clientes/editar/:id",name:"ClientesEditar",component:_e},{path:"*",name:"Not found",component:xe}]}),we=["Acre","Alagoas","Amapá","Amazonas","Bahia","Ceará","Distrito Federal","Espírito Santo","Goías","Maranhão","Mato Grosso","Mato Grosso do Sul","Minas Gerais","Pará","Paraíba","Paraná","Pernambuco","Piauí","Rio de Janeiro","Rio Grande do Norte","Rio Grande do Sul","Rondônia","Roraima","Santa Catarina","São Paulo","Sergipe","Tocantins"],ke={estados:we};i["a"].use(l.a),i["a"].use(o.a),i["a"].config.productionTip=!1,i["a"].prototype.Helpers=n,new i["a"]({router:ye,render:function(e){return e(j)}}).$mount("#app")},"85ec":function(e,t,a){},"9a01":function(e,t,a){},a74a:function(e,t,a){},b1ff:function(e,t,a){"use strict";var n=a("a74a"),i=a.n(n);i.a},b51a:function(e,t,a){e.exports=a.p+"img/logo_medprev.e426fc01.png"},cc5a:function(e,t,a){},f86e:function(e,t,a){"use strict";var n=a("cc5a"),i=a.n(n);i.a}});
//# sourceMappingURL=index.b1363bb9.js.map